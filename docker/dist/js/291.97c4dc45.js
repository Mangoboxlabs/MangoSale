"use strict";(self["webpackChunkmangosale"]=self["webpackChunkmangosale"]||[]).push([[291],{54291:function(t,a,s){s.r(a),s.d(a,{default:function(){return v}});s(57658);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"airdrop-detail"},[a("div",{staticClass:"panel-box"},[a("div",{staticClass:"title"},[t._v(" Airdrop Address ")]),a("div",{staticClass:"info-list"},[a("div",{staticClass:"row"},[a("div",{staticClass:"name"},[t._v(" Token Address ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.queryParams.token)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"name"},[t._v(" Token Name ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.coinInfo.name)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"name"},[t._v(" Symbol ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.coinInfo.symbol)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"name"},[t._v(" Decimal ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.coinInfo.decimals)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"name"},[t._v(" Balance ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.balance)+" ")])])])]),a("div",{staticClass:"flex-box claim-panel",staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"panel-box part2",staticStyle:{width:"48%"}},[a("div",{staticClass:"live"}),a("div",{staticClass:"start-time"},[a("span",[t._v(" Start Time(UTC) ")]),a("span",[t._v(" "+t._s(t.moment(new Date(t.queryParams.startTime.replace(new RegExp(",","g"),""))).format("MMMM Do YYYY, h:mm:ss a"))+" ")])]),a("div",{staticClass:"start-time"},[a("span",[t._v(" Your Allocation ")]),a("span",[t._v(" "+t._s("false"==t.queryParams.userCollect.isExtract.toString()?t.queryParams.userCollect.amount:0)+" ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.queryParams.userCollect.amount>0,expression:"queryParams.userCollect.amount>0"}],staticClass:"mangobox-button",on:{click:t.collect}},[t._v(" Claim ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.queryParams.owner.toLowerCase()==t.account.toLowerCase(),expression:"queryParams.owner.toLowerCase() == account.toLowerCase()"}],staticClass:"panel-box admin-panel",staticStyle:{width:"48%"}},[t._l(t.disArr,(function(s,e){return a("div",{key:e,staticClass:"distribution-member"},[a("div",{staticClass:"input-box"},[a("div",{staticClass:"name"},[t._v(" member"+t._s(e+1)+".Distribution Account ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.account,expression:"item.account"}],attrs:{type:"text"},domProps:{value:s.account},on:{input:function(a){a.target.composing||t.$set(s,"account",a.target.value)}}})]),a("div",{staticClass:"input-box"},[a("div",{staticClass:"name"},[t._v(" member"+t._s(e+1)+".Distribution Number ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.amount,expression:"item.amount"}],attrs:{type:"number"},domProps:{value:s.amount},on:{input:function(a){a.target.composing||t.$set(s,"amount",a.target.value)}}})])])})),a("div",{staticClass:"flex-box",staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[a("svg",{staticClass:"add-btn icon",attrs:{t:"1677570644221",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4067",width:"48",height:"48"},on:{click:function(a){return t.disArr.push({})}}},[a("path",{attrs:{d:"M512 1024C229.229714 1024 0 794.770286 0 512S229.229714 0 512 0s512 229.229714 512 512-229.229714 512-512 512z m0-928C282.258286 96 96 282.258286 96 512S282.258286 928 512 928 928 741.741714 928 512 741.741714 96 512 96z m208.018286 463.981714h-160v160.036572a48.018286 48.018286 0 0 1-96.036572 0v-160.036572H303.981714a47.981714 47.981714 0 0 1 0-95.963428h160V304.018286a48.018286 48.018286 0 0 1 96.036572 0v160h160a47.981714 47.981714 0 0 1 0 95.963428z",fill:"#ffffff","p-id":"4068"}})]),a("svg",{staticClass:"add-btn icon",attrs:{t:"1677570833662",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5089",width:"48",height:"48"},on:{click:function(a){return t.disArr.pop()}}},[a("path",{attrs:{d:"M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m0-896C299.968 128 128 299.968 128 512s171.968 384 384 384 384-171.968 384-384S724.032 128 512 128z m192 448H320a64 64 0 1 1 0-128h384a64 64 0 0 1 64 64c0 35.392-28.608 64-64 64z",fill:"#ffffff","p-id":"5090"}})])]),a("div",{staticClass:"mangobox-button",on:{click:t.approve}},[t._v(" approve ")]),a("div",{staticClass:"mangobox-button",on:{click:t.distribution}},[t._v(" distribution ")])],2)])])},i=[],o=s(36797),r=s.n(o),n=s(78863),c=s(15941),l={name:"AirdropDetail",data(){return{moment:r(),dAmount:void 0,coinInfo:{decimals:0,balance:0,name:"",symbol:""},balance:0,queryParams:{},disArr:[{account:this.$store.state.app.account,amount:void 0,isExtract:!1}]}},computed:{account(){return this.$store.state.app.account}},watch:{account(){this.getData()}},methods:{approve(){this.$store.dispatch("erc20/approve",{spender:n.Z.mangoAirdrop.address,value:"100000000000000000000000000000",address:this.queryParams.token})},async collect(){this.queryParams.userCollect.amount<=0?this.$eventBus.$emit("message",{message:"do not have Allocation ",type:"error"}):(await this.$store.dispatch("mangoAirdrop/collect",this.queryParams.id),setTimeout((()=>{this.userCollect()}),1e3))},async distribution(){try{await this.$store.dispatch("mangoAirdrop/distribution",{id:this.queryParams.id,information:this.disArr}),setTimeout((()=>{this.userCollect()}),1e3)}catch(t){c.log(t)}},async userCollect(){let t=await this.$store.dispatch("mangoAirdrop/getUserCollect",this.queryParams.id);t.amount=t.amount.replace(new RegExp(",","g"),""),this.queryParams.userCollect=t},async getData(){let t=this.$route.query;if(c.log(t),this.queryParams=t,t.userCollect.amount=t.userCollect.amount.replace(new RegExp(",","g"),""),t&&t.tokenInfo){this.coinInfo=t.tokenInfo;let a=await this.$store.dispatch("erc20/balanceOf",{address:t.token,owner:this.$store.state.app.account});this.balance=a}}},created(){this.getData()}},u=l,d=s(1001),m=(0,d.Z)(u,e,i,!1,null,"ee4ad392",null),v=m.exports}}]);
//# sourceMappingURL=291.97c4dc45.js.map