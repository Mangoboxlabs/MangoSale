"use strict";(self["webpackChunkmangosale"]=self["webpackChunkmangosale"]||[]).push([[76],{19076:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"CreateProject daoContentBg"},[e("div",{staticClass:"CreateProject-content"},[e("h1",[t._v("Creat your projects")]),e("div",{staticClass:"progress-box"},[e("div",{staticClass:"progress-item",on:{click:function(e){t.activeStep=0}}},[e("div",{staticClass:"index",class:t.activeStep>=0?"active":""},[t._v("1")]),e("div",{staticClass:"name"},[t._v(" Project details ")])]),e("div",{staticClass:"progress-item",on:{click:function(e){t.activeStep=1}}},[e("div",{staticClass:"index",class:t.activeStep>=1?"active":""},[t._v("2")]),e("div",{staticClass:"name"},[t._v(" Funding cycle ")])]),e("div",{staticClass:"progress-item",on:{click:function(e){t.activeStep=2}}},[e("div",{staticClass:"index",class:t.activeStep>=2?"active":""},[t._v("3")]),e("div",{staticClass:"name"},[t._v(" Review and deploy ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.activeStep,expression:"activeStep===0"}],staticClass:"step-box"},[e("div",{staticClass:"input-box"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.name,expression:"ipfsObj.name"}],attrs:{type:"text"},domProps:{value:t.ipfsObj.name},on:{input:function(e){e.target.composing||t.$set(t.ipfsObj,"name",e.target.value)}}})]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Project description ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.description,expression:"ipfsObj.description"}],attrs:{name:"",cols:"50",rows:"5"},domProps:{value:t.ipfsObj.description},on:{input:function(e){e.target.composing||t.$set(t.ipfsObj,"description",e.target.value)}}})]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Logo ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.icon,expression:"ipfsObj.icon"}],attrs:{type:"text",placeholder:"please input icon url"},domProps:{value:t.ipfsObj.icon},on:{input:function(e){e.target.composing||t.$set(t.ipfsObj,"icon",e.target.value)}}})]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Website ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.webside,expression:"ipfsObj.webside"}],attrs:{type:"text",placeholder:"project webside"},domProps:{value:t.ipfsObj.webside},on:{input:function(e){e.target.composing||t.$set(t.ipfsObj,"webside",e.target.value)}}})]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Twitter handle ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.twitter,expression:"ipfsObj.twitter"}],attrs:{type:"text",placeholder:"project twitter"},domProps:{value:t.ipfsObj.twitter},on:{input:function(e){e.target.composing||t.$set(t.ipfsObj,"twitter",e.target.value)}}})]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Discord ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.discord,expression:"ipfsObj.discord"}],attrs:{type:"text",placeholder:"project discord"},domProps:{value:t.ipfsObj.discord},on:{input:function(e){e.target.composing||t.$set(t.ipfsObj,"discord",e.target.value)}}})]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Pay disclosure ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.payDisclosure,expression:"ipfsObj.payDisclosure"}],attrs:{name:"",cols:"50",rows:"5"},domProps:{value:t.ipfsObj.payDisclosure},on:{input:function(e){e.target.composing||t.$set(t.ipfsObj,"payDisclosure",e.target.value)}}})]),e("div",{staticClass:"intro",staticStyle:{opacity:"0.5"}},[t._v(" Disclose any details to your contributors before they pay your project. ")]),e("button",{staticClass:"mangobox-button",on:{click:t.checkAndUpload}},[t._v(" SAVE ")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.activeStep,expression:"activeStep===1"}],staticClass:"step-box"},[e("h3",{staticClass:"step-item-title"},[t._v(" 01 Funding ")]),e("div",{staticClass:"flex-box"},[e("div",{staticClass:"switch"},[e("div",{staticClass:"switch__1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoFundingCycles,expression:"autoFundingCycles"}],attrs:{id:"switch-1",type:"checkbox"},domProps:{checked:Array.isArray(t.autoFundingCycles)?t._i(t.autoFundingCycles,null)>-1:t.autoFundingCycles},on:{change:function(e){var s=t.autoFundingCycles,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,n=t._i(s,o);i.checked?n<0&&(t.autoFundingCycles=s.concat([o])):n>-1&&(t.autoFundingCycles=s.slice(0,n).concat(s.slice(n+1)))}else t.autoFundingCycles=a}}}),e("label",{attrs:{for:"switch-1"}})])]),t._v(" Automate funding cycles ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.autoFundingCycles,expression:"!autoFundingCycles"}],staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Funding cycle duration ")]),e("div",{staticClass:"flex-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.durationDay,expression:"durationDay"}],attrs:{type:"text",placeholder:"duration(day)"},domProps:{value:t.durationDay},on:{input:function(e){e.target.composing||(t.durationDay=e.target.value)}}}),e("el-select",{attrs:{placeholder:"Days"},model:{value:t.durationDay,callback:function(e){t.durationDay=e},expression:"durationDay"}},[e("el-option",{attrs:{label:"Never expire",value:"0"}}),e("el-option",{attrs:{label:"5",value:"5"}}),e("el-option",{attrs:{label:"15",value:"15"}}),e("el-option",{attrs:{label:"30",value:"30"}})],1)],1)]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Fundraising limits ")]),e("div",{staticClass:"flex-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.distributionLimit,expression:"distributionLimit "}],attrs:{type:"text",placeholder:"distributionLimit "},domProps:{value:t.distributionLimit},on:{input:function(e){e.target.composing||(t.distributionLimit=e.target.value)}}})])]),e("h2",[t._v(" Payouts ")]),e("div",{staticClass:"intro"},[t._v(" Choose how you would like to configure your payouts. ")]),e("div",[e("el-radio",{attrs:{label:"1"},model:{value:t.incomeType,callback:function(e){t.incomeType=e},expression:"incomeType"}},[e("strong",[t._v("Amounts")]),e("div",{staticClass:"intro"},[e("p",[t._v(" Distribute a specific amount of funds to entities each funding cycle. ")]),e("p",[t._v(" Your distribution limit will equal the sum of all payout amounts. ")])])])],1),e("div",[e("el-radio",{attrs:{label:"2"},model:{value:t.incomeType,callback:function(e){t.incomeType=e},expression:"incomeType"}},[t._v("Percentages "),e("div",{staticClass:"intro"},[e("p",[t._v("Distribute a percentage of all funds received to entities.")]),e("p",[t._v(" Your distribution limit will be infinite.")])])])],1),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Amount ")]),e("div",{staticClass:"flex-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.incomeAmount,expression:"incomeAmount "}],attrs:{type:"text",placeholder:2==t.incomeType?"income percent":"income amount"},domProps:{value:t.incomeAmount},on:{input:function(e){e.target.composing||(t.incomeAmount=e.target.value)}}})])]),e("h3",{staticClass:"step-item-title"},[t._v(" 02 Project token ")]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Time interval between "),e("el-tooltip",{staticClass:"tip-box",attrs:{effect:"dark",content:"Using a reconfiguration strategy is recommended. Projects with no strategy will appear risky to contributors.",placement:"bottom-start"}},[e("img",{staticClass:"tip",attrs:{src:s(56259),alt:""}})])],1),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mustStartAtOrAfter,expression:"mustStartAtOrAfter"}],attrs:{type:"text"},domProps:{value:t.mustStartAtOrAfter},on:{input:function(e){e.target.composing||(t.mustStartAtOrAfter=e.target.value)}}})])]),e("div",{staticClass:"input-box"},[e("div",{staticClass:"name"},[t._v(" Weight "),e("el-tooltip",{staticClass:"tip-box",attrs:{effect:"dark",content:"The term weight simply means how many tokens or other assets, such as NFTs, a contributor will receive for a set amount of contribution. For instance, a contributor who puts $1000 into your project may receive a million tokens (if you so choose).",placement:"bottom-start"}},[e("img",{staticClass:"tip",attrs:{src:s(56259),alt:""}})])],1),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"weight"}],attrs:{type:"text"},domProps:{value:t.weight},on:{input:function(e){e.target.composing||(t.weight=e.target.value)}}})])]),e("div",{staticClass:"slider-box"},[e("strong",{staticClass:"name"},[t._v(" Discount Rate ")]),e("el-slider",{staticStyle:{width:"500px"},attrs:{"show-input":""},model:{value:t.discountRate,callback:function(e){t.discountRate=e},expression:"discountRate"}})],1),e("button",{staticClass:"mangobox-button",on:{click:function(e){t.activeStep++}}},[t._v(" SAVE ")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.activeStep,expression:"activeStep===2"}],staticClass:"step-box"},[e("h3",{staticClass:"step-item-title"},[t._v(" Project details ")]),e("div",{staticClass:"intro"},[t._v(" Project details can be edited at any time. ")]),e("div",{staticClass:"project-detail"},[e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Name ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.name?t.ipfsObj.name:"-")+" ")])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Logo ")]),e("img",{attrs:{src:t.ipfsObj.icon,alt:""}})]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Webside ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.webside?t.ipfsObj.webside:"-")+" ")])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Twitter ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.twitter?t.ipfsObj.twitter:"-")+" ")])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Discord ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.discord?t.ipfsObj.discord:"-")+" ")])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Pay disclosure ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.payDisclosure?t.ipfsObj.payDisclosure:"-")+" ")])])]),e("h3",{staticClass:"step-item-title"},[t._v(" Funding cycle details ")]),e("div",{staticClass:"intro"},[t._v(" Once launched, your first funding cycle can't be changed. You can reconfigure upcoming funding cycles according to the project's reconfiguration rules. ")]),e("div",{staticClass:"funding-cycle-detail"},[e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Duration ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.durationDay?t.durationDay+"day":"auto")+" ")])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" weight ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.weight?t.weight:"auto")+" ")])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Discount Rate ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.discountRate?t.discountRate:"0")+" ")])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"name"},[t._v(" Start After ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.mustStartAtOrAfter?t.mustStartAtOrAfter:"0")+" ")])])]),e("button",{staticClass:"mangobox-button",on:{click:t.launchProjectFor}},[t._v(" DEPLOY ")])])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[t._v(" Project name "),e("strong",{staticStyle:{color:"#ff0000"}},[t._v("*")])])}],o=(s(57658),s(52278)),n=s(15941),c={name:"CreateProject",data(){return{imageUrl:"",ipfsObj:{},reservedTokens:0,payouts:0,activeStep:0,ipfsStr:"",autoFundingCycles:!1,durationDay:void 0,mustStartAtOrAfter:void 0,weight:0,discountRate:0,distributionLimit:void 0,incomeType:1,incomeAmount:void 0}},methods:{handleChange(t){n.log(t),(0,o.cT)(t).then((t=>{n.log(t)}))},handleAvatarSuccess(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload(){},async checkAndUpload(){this.ipfsObj.name?this.activeStep++:this.$eventBus.$emit("message",{message:"Please Input Name",type:"error"})},mint(){this.$store.dispatch("MBProjects/mint")},ownerOf(){this.$store.dispatch("MBProjects/ownerOf")},async launchProjectFor(){this.$store.commit("app/SET_LOADINDING",!0);const t=await(0,o.bA)({...this.ipfsObj,createTime:new Date});this.ipfsStr=t.data.IpfsHash,this.$store.dispatch("MBController/launchProjectFor",{_owner:this.$store.state.app.account,_projectMetadata:this.ipfsStr,_data:{duration:this.durationDay?(86400*this.durationDay).toString():0,weight:this.weight,discountRate:this.discountRate,ballot:this.$store.state.app.account},_metadata:0,_mustStartAtOrAfter:this.mustStartAtOrAfter,_groupedSplits:[],_fundAccessConstraints:[{terminal:this.$store.state.app.account,token:this.$store.state.app.account,distributionLimit:this.distributionLimit,distributionLimitCurrency:0,overflowAllowance:0,overflowAllowanceCurrency:0}],_terminals:[],_memo:""}).then((()=>{this.$store.commit("app/SET_LOADINDING",!1)})).catch((t=>{this.$eventBus.$emit("message",{message:t,type:"error"}),this.$store.commit("app/SET_LOADINDING",!1)}))}},created(){this.$eventBus.$on("message",(t=>{"success"==t.type&&"Create success"==t.message&&this.$router.push("/")}))},beforeDestroy(){this.$eventBus.$on("message",(()=>{}))}},r=c,l=s(1001),d=(0,l.Z)(r,i,a,!1,null,"7d21a1c2",null),u=d.exports},56259:function(t){t.exports="data:image/webp;base64,UklGRs4BAABXRUJQVlA4WAoAAAAQAAAAHwAAHwAAQUxQSIEBAAABkCpr2xpJ7wU0DCueqGGmqFajWU21mxrNpDBumQaugJndMu9GrU9Vg2IUUe/S/yWXEBETAKF3eN8MFQohc3/YCxcbtpIUJrcaHBkZps6mdc3j0fTpsxQzhoN3tB9UQlj5wOY7UYxfO+Gw8ytjAouXcPGSluKQj+HqYx7+x+AZXD6jAaAhY3cKytraygSddqYB2OIDKCv2SPK1Cg+4BX86U6m65K9Xu+RzVWUm7Q/yHsouRhuBcbJPgXsGj7mimuQqALznqmqFxyZ1VWA18M8tx1U6zRA11f/H+dGj0hgq0ONgnJyA2sOCo0GGApCFqMm+cAhSjSGTusyK+kQ6zX1Oy7qmIJ7m/jDPRIHJYdkZh73JVKVkgayVVKaSXmzxgWSYhPQBt4CGjN0pQC2knXamAYDBrxL5Vxr49x0v3bnkO/w/xsduPGYMaotnnU46z2hBekj7QaWk8oHNQ8iNDDP3K7rm8Wj6yn2GGQNOG7bSFKa3GuCiP3hshgqFkHkc9EMIAFZQOCAmAAAA0AIAnQEqIAAgAD6RRJ1KpaOioagIALASCWkAAD2joAD++M8awAA="}}]);
//# sourceMappingURL=76.b461c56d.js.map